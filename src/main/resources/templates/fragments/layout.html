<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<!-- 공통 헤더 (CSS, 메타태그) -->
	<head th:fragment="head(title)">
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title th:text="${title}">Spring Board</title>

		<!-- Bootstrap 5 CSS -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<!-- Bootstrap Icons -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
			rel="stylesheet"
		/>
		<!-- Google Fonts - Pretendard -->
		<link
			href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css"
			rel="stylesheet"
		/>

		<style>
			:root {
				--primary-color: #2563eb;
				--primary-hover: #1d4ed8;
				--secondary-color: #64748b;
				--accent-color: #f59e0b;
				--success-color: #10b981;
				--danger-color: #ef4444;
				--bg-color: #f8fafc;
				--card-bg: #ffffff;
				--text-primary: #1e293b;
				--text-secondary: #64748b;
				--border-color: #e2e8f0;
			}

			* {
				font-family: "Pretendard", -apple-system, BlinkMacSystemFont, system-ui,
					sans-serif;
			}

			body {
				background-color: var(--bg-color);
				color: var(--text-primary);
				min-height: 100vh;
			}

			.navbar-custom {
				background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
				box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
				padding: 0.8rem 0;
			}

			.navbar-brand {
				font-weight: 700;
				font-size: 1.4rem;
				letter-spacing: -0.5px;
			}

			.nav-link {
				font-weight: 500;
				transition: all 0.2s ease;
			}

			.btn-primary-custom {
				background: linear-gradient(
					135deg,
					var(--primary-color) 0%,
					var(--primary-hover) 100%
				);
				border: none;
				padding: 0.6rem 1.5rem;
				font-weight: 600;
				border-radius: 8px;
				transition: all 0.3s ease;
			}

			.btn-primary-custom:hover {
				transform: translateY(-2px);
				box-shadow: 0 4px 12px rgba(37, 99, 235, 0.4);
			}

			.btn-outline-custom {
				border: 2px solid rgba(255, 255, 255, 0.3);
				color: #fff;
				font-weight: 500;
				border-radius: 8px;
				transition: all 0.2s ease;
			}

			.btn-outline-custom:hover {
				background: rgba(255, 255, 255, 0.1);
				border-color: rgba(255, 255, 255, 0.5);
				color: #fff;
			}

			.card-custom {
				background: var(--card-bg);
				border: 1px solid var(--border-color);
				border-radius: 16px;
				box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05),
					0 2px 4px -1px rgba(0, 0, 0, 0.03);
				transition: all 0.3s ease;
			}

			.card-custom:hover {
				box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.08),
					0 4px 6px -2px rgba(0, 0, 0, 0.04);
			}

			.form-control-custom {
				border: 2px solid var(--border-color);
				border-radius: 10px;
				padding: 0.75rem 1rem;
				transition: all 0.2s ease;
			}

			.form-control-custom:focus {
				border-color: var(--primary-color);
				box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
			}

			.table-custom {
				border-collapse: separate;
				border-spacing: 0;
			}

			.table-custom thead th {
				background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
				font-weight: 600;
				color: var(--text-secondary);
				text-transform: uppercase;
				font-size: 0.75rem;
				letter-spacing: 0.5px;
				padding: 1rem;
				border: none;
			}

			.table-custom tbody tr {
				transition: all 0.2s ease;
			}

			.table-custom tbody tr:hover {
				background-color: #f8fafc;
			}

			.table-custom tbody td {
				padding: 1rem;
				vertical-align: middle;
				border-bottom: 1px solid var(--border-color);
			}

			.badge-custom {
				padding: 0.35rem 0.75rem;
				border-radius: 6px;
				font-weight: 500;
				font-size: 0.75rem;
			}

			.footer-custom {
				background: #1e293b;
				color: #94a3b8;
				padding: 2rem 0;
			}

			/* 애니메이션 */
			@keyframes fadeInUp {
				from {
					opacity: 0;
					transform: translateY(20px);
				}
				to {
					opacity: 1;
					transform: translateY(0);
				}
			}

			.animate-fade-in {
				animation: fadeInUp 0.5s ease forwards;
			}
		</style>
	</head>

	<!-- 네비게이션 바 -->
	<nav th:fragment="navbar" class="navbar navbar-expand-lg navbar-custom">
		<div class="container">
			<a class="navbar-brand text-white d-flex align-items-center" href="/">
				<i class="bi bi-journal-text me-2"></i>
				Spring Board
			</a>

			<button
				class="navbar-toggler"
				type="button"
				data-bs-toggle="collapse"
				data-bs-target="#navbarNav"
			>
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse justify-content-end" id="navbarNav">
				<ul class="navbar-nav align-items-center">
					<!-- 비로그인 상태 -->
					<li class="nav-item" th:if="${session.loginUserId == null}">
						<a class="nav-link text-white-50" href="/users/login">
							<i class="bi bi-box-arrow-in-right me-1"></i>로그인
						</a>
					</li>
					<li class="nav-item ms-2" th:if="${session.loginUserId == null}">
						<a class="btn btn-outline-custom" href="/users/signup">
							<i class="bi bi-person-plus me-1"></i>회원가입
						</a>
					</li>

					<!-- 로그인 상태 -->
					<li class="nav-item" th:if="${session.loginUserId != null}">
						<a class="nav-link text-white-50" href="/bookmarks">
							<i class="bi bi-bookmark-heart me-1"></i>북마크
						</a>
					</li>
					<li class="nav-item me-3" th:if="${session.loginUserId != null}">
						<span class="text-white-50">
							<i class="bi bi-person-circle me-1"></i>
							<span th:if="${loginUser}" th:text="${loginUser.username}"
								>사용자</span
							>님 환영합니다
						</span>
					</li>
					<li class="nav-item" th:if="${session.loginUserId != null}">
						<form action="/users/logout" method="post" class="d-inline">
							<button type="submit" class="btn btn-outline-custom btn-sm">
								<i class="bi bi-box-arrow-right me-1"></i>로그아웃
							</button>
						</form>
					</li>
				</ul>
			</div>
		</div>
	</nav>

	<!-- 푸터 -->
	<footer th:fragment="footer" class="footer-custom mt-auto">
		<div class="container text-center">
			<p class="mb-1">
				<i class="bi bi-code-slash me-1"></i>
				Built with Spring Boot & Thymeleaf
			</p>
			<p class="small mb-0">
				&copy; 2025 Spring Board Project. All rights reserved.
			</p>
		</div>
	</footer>

	<!-- 스크립트 -->
	<th:block th:fragment="scripts">
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
		></script>
	</th:block>
</html>
