<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
	<!-- 공통 헤더 (CSS, 메타태그) -->
	<head th:fragment="head(title)">
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title th:text="${title}">Spring Board</title>

		<!-- Bootstrap 5 CSS -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<!-- Bootstrap Icons -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
			rel="stylesheet"
		/>
		<!-- Google Fonts - Pretendard -->
		<link
			href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css"
			rel="stylesheet"
		/>
		<!-- Custom Styles -->
		<link href="/css/style.css" rel="stylesheet" />
	</head>

	<!-- 네비게이션 바 -->
	<nav th:fragment="navbar" class="navbar navbar-expand-lg navbar-custom">
		<div class="container">
			<a class="navbar-brand text-white d-flex align-items-center" href="/">
				<i class="bi bi-journal-text me-2"></i>
				Spring Board
			</a>

			<button
				class="navbar-toggler"
				type="button"
				data-bs-toggle="collapse"
				data-bs-target="#navbarNav"
			>
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse justify-content-end" id="navbarNav">
				<ul class="navbar-nav align-items-center">
					<!-- 비로그인 상태 -->
					<li class="nav-item" sec:authorize="!isAuthenticated()">
						<a class="nav-link text-white-50" href="/users/login">
							<i class="bi bi-box-arrow-in-right me-1"></i>로그인
						</a>
					</li>
					<li class="nav-item ms-2" sec:authorize="!isAuthenticated()">
						<a class="btn btn-outline-custom" href="/users/signup">
							<i class="bi bi-person-plus me-1"></i>회원가입
						</a>
					</li>

					<!-- 로그인 상태 -->
					<li class="nav-item" sec:authorize="isAuthenticated()">
						<a class="nav-link text-white-50" href="/bookmarks">
							<i class="bi bi-bookmark-heart me-1"></i>북마크
						</a>
					</li>
					<li class="nav-item me-3" sec:authorize="isAuthenticated()">
						<span class="text-white-50">
							<i class="bi bi-person-circle me-1"></i>
							<span sec:authentication="principal.displayName">사용자</span>님 환영합니다
						</span>
					</li>
					<li class="nav-item" sec:authorize="isAuthenticated()">
						<form action="/users/logout" method="post" class="d-inline">
							<button type="submit" class="btn btn-outline-custom btn-sm">
								<i class="bi bi-box-arrow-right me-1"></i>로그아웃
							</button>
						</form>
					</li>
				</ul>
			</div>
		</div>
	</nav>

	<!-- 푸터 -->
	<footer th:fragment="footer" class="footer-custom mt-auto">
		<div class="container text-center">
			<p class="mb-1">
				<i class="bi bi-code-slash me-1"></i>
				Built with Spring Boot & Thymeleaf
			</p>
			<p class="small mb-0">
				&copy; 2025 Spring Board Project. All rights reserved.
			</p>
		</div>
	</footer>

	<!-- 스크립트 -->
	<th:block th:fragment="scripts">
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
		></script>
	</th:block>
</html>
