<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head
		th:replace="~{fragments/layout :: head('회원가입 - Spring Board')}"
	></head>
	<body
		class="d-flex flex-column"
		style="
			background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
			min-height: 100vh;
		"
	>
		<main
			class="flex-grow-1 d-flex align-items-center justify-content-center py-5"
		>
			<div class="container">
				<div class="row justify-content-center">
					<div class="col-11 col-sm-8 col-md-6 col-lg-5 col-xl-4">
						<!-- 회원가입 카드 -->
						<div class="card card-custom border-0 shadow-lg animate-fade-in">
							<div class="card-body p-4 p-md-5">
								<!-- 로고 -->
								<div class="text-center mb-4">
									<a href="/" class="text-decoration-none">
										<div
											class="rounded-circle d-inline-flex align-items-center justify-content-center mb-3"
											style="
												width: 60px;
												height: 60px;
												background: linear-gradient(
													135deg,
													#11998e 0%,
													#38ef7d 100%
												);
											"
										>
											<i class="bi bi-person-plus text-white fs-4"></i>
										</div>
									</a>
									<h3 class="fw-bold mb-1">회원가입</h3>
									<p class="text-muted small">새로운 계정을 만들어보세요</p>
								</div>

								<!-- 회원가입 폼 -->
								<form th:action th:object="${signupRequest}" method="post">
									<!-- 에러 메시지 (폼 내부로 이동) -->
									<div
										th:if="${#fields.hasGlobalErrors()}"
										class="alert alert-danger d-flex align-items-center py-2 mb-3"
										role="alert"
									>
										<i class="bi bi-exclamation-triangle-fill me-2"></i>
										<div
											th:each="err : ${#fields.globalErrors()}"
											th:text="${err}"
										>
											에러 메시지
										</div>
									</div>

									<div class="mb-3">
										<label for="loginId" class="form-label fw-medium">
											<i class="bi bi-person me-1"></i>아이디
										</label>
										<input
											type="text"
											id="loginId"
											th:field="*{loginId}"
											class="form-control form-control-custom"
											th:classappend="${#fields.hasErrors('loginId')} ? 'is-invalid' : ''"
											placeholder="사용할 아이디를 입력하세요"
										/>
										<div class="invalid-feedback" th:errors="*{loginId}">
											아이디 오류
										</div>
									</div>

									<div class="mb-3">
										<label for="password" class="form-label fw-medium">
											<i class="bi bi-lock me-1"></i>비밀번호
										</label>
										<input
											type="password"
											id="password"
											th:field="*{password}"
											class="form-control form-control-custom"
											th:classappend="${#fields.hasErrors('password')} ? 'is-invalid' : ''"
											placeholder="비밀번호를 입력하세요"
										/>
										<div class="invalid-feedback" th:errors="*{password}">
											비밀번호 오류
										</div>
									</div>

									<div class="mb-4">
										<label for="username" class="form-label fw-medium">
											<i class="bi bi-emoji-smile me-1"></i>닉네임
										</label>
										<input
											type="text"
											id="username"
											th:field="*{username}"
											class="form-control form-control-custom"
											th:classappend="${#fields.hasErrors('username')} ? 'is-invalid' : ''"
											placeholder="사용할 닉네임을 입력하세요"
										/>
										<div class="invalid-feedback" th:errors="*{username}">
											닉네임 오류
										</div>
									</div>

									<button
										type="submit"
										class="btn w-100 py-3 fw-bold text-white"
										style="
											background: linear-gradient(
												135deg,
												#11998e 0%,
												#38ef7d 100%
											);
											border: none;
											border-radius: 8px;
										"
									>
										<i class="bi bi-check-circle me-1"></i>가입하기
									</button>
								</form>

								<!-- 구분선 -->
								<div class="d-flex align-items-center my-4">
									<hr class="flex-grow-1" />
									<span class="px-3 text-muted small">또는</span>
									<hr class="flex-grow-1" />
								</div>

								<!-- 로그인 링크 -->
								<div class="text-center">
									<p class="text-muted mb-0">
										이미 계정이 있으신가요?
										<a
											href="/users/login"
											class="fw-medium text-decoration-none"
											style="color: #11998e"
										>
											로그인 <i class="bi bi-arrow-right"></i>
										</a>
									</p>
								</div>
							</div>
						</div>

						<!-- 홈으로 돌아가기 -->
						<div
							class="text-center mt-4 animate-fade-in"
							style="animation-delay: 0.1s"
						>
							<a href="/" class="text-white-50 text-decoration-none small">
								<i class="bi bi-arrow-left me-1"></i>홈으로 돌아가기
							</a>
						</div>
					</div>
				</div>
			</div>
		</main>

		<th:block th:replace="~{fragments/layout :: scripts}"></th:block>
	</body>
</html>
