<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head
		th:replace="~{fragments/layout :: head('로그인 - Spring Board')}"
	></head>
	<body
		class="d-flex flex-column"
		style="
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			min-height: 100vh;
		"
	>
		<main
			class="flex-grow-1 d-flex align-items-center justify-content-center py-5"
		>
			<div class="container">
				<div class="row justify-content-center">
					<div class="col-11 col-sm-8 col-md-6 col-lg-5 col-xl-4">
						<!-- 로그인 카드 -->
						<div class="card card-custom border-0 shadow-lg animate-fade-in">
							<div class="card-body p-4 p-md-5">
								<!-- 로고 -->
								<div class="text-center mb-4">
									<a href="/" class="text-decoration-none">
										<div
											class="bg-primary rounded-circle d-inline-flex align-items-center justify-content-center mb-3"
											style="width: 60px; height: 60px"
										>
											<i class="bi bi-journal-text text-white fs-4"></i>
										</div>
									</a>
									<h3 class="fw-bold mb-1">로그인</h3>
									<p class="text-muted small">계정에 로그인하세요</p>
								</div>

								<!-- 로그인 폼 -->
								<form th:action th:object="${loginRequest}" method="post">
									<!-- 에러 메시지 (폼 내부로 이동) -->
									<div
										th:if="${#fields.hasGlobalErrors()}"
										class="alert alert-danger d-flex align-items-center py-2 mb-3"
										role="alert"
									>
										<i class="bi bi-exclamation-triangle-fill me-2"></i>
										<div
											th:each="err : ${#fields.globalErrors()}"
											th:text="${err}"
										>
											에러 메시지
										</div>
									</div>

									<div class="mb-3">
										<label for="loginId" class="form-label fw-medium">
											<i class="bi bi-person me-1"></i>아이디
										</label>
										<input
											type="text"
											id="loginId"
											th:field="*{loginId}"
											class="form-control form-control-custom form-control-lg"
											th:classappend="${#fields.hasErrors('loginId')} ? 'is-invalid' : ''"
											placeholder="아이디를 입력하세요"
											autocomplete="username"
										/>
										<div class="invalid-feedback" th:errors="*{loginId}">
											아이디 오류
										</div>
									</div>

									<div class="mb-4">
										<label for="password" class="form-label fw-medium">
											<i class="bi bi-lock me-1"></i>비밀번호
										</label>
										<input
											type="password"
											id="password"
											th:field="*{password}"
											class="form-control form-control-custom form-control-lg"
											th:classappend="${#fields.hasErrors('password')} ? 'is-invalid' : ''"
											placeholder="비밀번호를 입력하세요"
											autocomplete="current-password"
										/>
										<div class="invalid-feedback" th:errors="*{password}">
											비밀번호 오류
										</div>
									</div>

									<button
										type="submit"
										class="btn btn-primary-custom w-100 py-3 fw-bold"
									>
										<i class="bi bi-box-arrow-in-right me-1"></i>로그인
									</button>
								</form>

								<!-- 구분선 -->
								<div class="d-flex align-items-center my-4">
									<hr class="flex-grow-1" />
									<span class="px-3 text-muted small">또는</span>
									<hr class="flex-grow-1" />
								</div>

								<!-- 회원가입 링크 -->
								<div class="text-center">
									<p class="text-muted mb-0">
										계정이 없으신가요?
										<a
											href="/users/signup"
											class="text-primary fw-medium text-decoration-none"
										>
											회원가입 <i class="bi bi-arrow-right"></i>
										</a>
									</p>
								</div>
							</div>
						</div>

						<!-- 홈으로 돌아가기 -->
						<div
							class="text-center mt-4 animate-fade-in"
							style="animation-delay: 0.1s"
						>
							<a href="/" class="text-white-50 text-decoration-none small">
								<i class="bi bi-arrow-left me-1"></i>홈으로 돌아가기
							</a>
						</div>
					</div>
				</div>
			</div>
		</main>

		<th:block th:replace="~{fragments/layout :: scripts}"></th:block>
	</body>
</html>
